var d=(i,l,o)=>new Promise((a,p)=>{var u=s=>{try{t(o.next(s))}catch(m){p(m)}},e=s=>{try{t(o.throw(s))}catch(m){p(m)}},t=s=>s.done?a(s.value):Promise.resolve(s.value).then(u,e);t((o=o.apply(i,l)).next())});import{G as Y}from"./45b133e1.js";import{G as h}from"./1efaf422.js";import{u as k,_ as b}from"./53309884.js";import{f as D,v as c,h as f,bI as y,e as r,n,cf as g,y as M}from"./f814164b.js";import{G as v}from"./524f9bab.js";import"./594c3a09.js";import"./743a8246.js";import"./3c939097.js";import"./7a0c48de.js";import"./171e53de.js";import"./d4778a48.js";import"./46ea365b.js";import"./08d44220.js";import"./1df55150.js";import"./7b1e1103.js";import"./2272bf96.js";import"./8954307d.js";import"./e2f6a45b.js";import"./13eb42de.js";import"./644fedf1.js";const B=D({name:"OrderList",setup(){const i=c(),l=c(),o=k(),a=c({}),p=f(()=>{const e=o.orderList.filter(t=>a.value.type?t.type===a.value.type:!0).filter(t=>a.value.day?y(t.day).format("YYYY-MM-DD")===a.value.day:!0).reverse();return{list:e,total:e.length}}),u=f(()=>[{key:"day",type:"datePicker",props:{valueFormat:"YYYY-MM-DD",placeholder:"\u8BF7\u9009\u62E9\u64CD\u4F5C\u65E5\u671F"}},{key:"type",type:"select",props:{placeholder:"\u8BF7\u9009\u62E9\u7C7B\u578B",showSearch:!0,options:[{value:"1",label:"\u6062\u590D"},{value:"0",label:"\u505C\u8FD0"}]}}]);return()=>r("div",{class:"container"},[r(h,{itemConfigs:u.value,onSearch:e=>{a.value=e,l.value.refresh()}},null),r(Y,{ref:l,tableTitle:"\u8C03\u4EE4\u8BB0\u5F55",columns:[{key:"day",title:"\u64CD\u4F5C\u65E5\u671F",customRender:({text:e})=>y(e).format("YYYY-MM-DD")},{key:"type",title:"\u7C7B\u578B",customRender:({text:e})=>e==="1"?r(v,{color:"green"},{default:()=>[n("\u6062\u590D")]}):r(v,{color:"red"},{default:()=>[n("\u505C\u8FD0")]})},{key:"time",title:"\u751F\u6548\u65E5\u671F",customRender:({text:e})=>e.join(" \u81F3 ")},{key:"list",title:"\u8F66\u6B21",customRender:({text:e})=>e.join(",")},{key:"options",title:"\u64CD\u4F5C",customRender:({record:e})=>r("div",{class:"operate"},[r("span",{class:"pointer",onClick:()=>i.value.init(e)},[n("\u7F16\u8F91")]),r("span",{class:"pointer error",onClick:()=>{g.confirm({title:"\u63D0\u793A",content:"\u786E\u8BA4\u8981\u5220\u9664\u5417\uFF1F",onOk:()=>{o.setOrderList(o.orderList.filter(t=>t.day!==e.day)),l.value.refresh(),M.success("\u5220\u9664\u6210\u529F")}})}},[n("\u5220\u9664")])])}],listApi:()=>d(this,null,function*(){return{data:p.value}})},null),r(b,{ref:i,onSuccess:()=>{l.value.refresh()}},null)])}});export{B as default};
